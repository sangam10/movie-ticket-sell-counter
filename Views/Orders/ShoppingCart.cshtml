@using MvcEcommerce.Data.ViewModels;
<!-- viewmoel -->
@model ShoppingCartVM
<!--title  -->
@{ 
  ViewData["Title"]= "Shopping cart summary"; 
}


<div class="container">
  <div class="card">
    <div class="card-header">
      <h2>Shopping Card Summery</h2>
    </div>
    <div class="card-body">
      <table class="table">
        <thead>
          <tr>
            <th>Selected amount</th>
            <th>Movie</th>
            <th>Price</th>
            <th>Subtotal</th>
            <th></th>
          </tr>
        </thead>

        <tbody>
          @foreach (var item in Model.ShoppingCart.ShoppingCartItems){
          <tr>
            <td class="align-middle">@item.Amount</td>
            <td class="align-middle">@item.Movie.Name</td>
            <td class="align-middle">@item.Movie.Price</td>
            <td class="align-middle">@((item.Amount*item.Movie.Price))</td>
          <td class="align-middle">
              <a
                class="text-danger"
                asp-controller="Orders"
                asp-action="RemoveItemFromShoppingCart"
                asp-route-id="@item.Movie.Id"
              >
                <i class="bi bi-cart-dash"></i>
              </a>
              |
              <a
                class="text-success"
                asp-controller="Orders"
                asp-action="AddItemToShoppingCart"
                asp-route-id="@item.Movie.Id"
              >
                <i class="bi bi-cart-plus"></i>
              </a>
            </td>
          </tr>
          }
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2"></td>
            <td><b>Total:</b></td>
            <td>@Model.ShoppingCartTotal</td>
            <td></td>
          </tr>
        </tfoot>
      </table>
    </div>
    <div class="card-footer">
      <div class="text-right">
        <div class="btn-group">
         @*<a class="btn btn-outline-primary" asp-action="CompleteOrder">
            Complete order
          </a>*@
          <div id=esewa-btn">
            
          </div>
          <span style="padding: 5px"></span>
          <a class="btn btn-outline-success" href="/Movies/Index">Add more items</a>
        </div>
      </div>
    </div>
  </div>
</div>
